---
CMDS: "[[108 Engineer Information Security]]"
creation date: 2025-04-14 17:17
modification date: 2025-04-14 17:17:19
type:
  - note
tags:
  - "#PKI"
관련 문서:
  - "[[전자서명과 PKI]]"
category: content
---

# PKI

<center><i><b>P</b>ublic <b>K</b>ey <b>I</b>nfrastructure</i></center>

#### 개요
- 공개키 알고리즘의 비밀성 보장을 위한 전체적인 시스템
- 디지털 인증서를 전체적으로 관리하는 데 필요한 모든 것

#### 구성 요소
- ##### 인증기관 (CA : Certification Authority)
	- 인증정책 수립
	- 다른 CA와 상호 인증
	- ###### 정책 승인기관 (PAA : Policy Approving Authority)
		- 정책 수립
		- 공개키 구조 전반에 사용되는 정책과 절차를 생성
		- 하위 기관의 정책 준수 및 적정성 감사
	- ###### 정책 인증기관 (PCA : Policy Certification Authority)
		- CA가 따라야 할 내용 수립
		- 인증기관의 공개키 인증
		- 인증서, 폐지 목록 관리
	- ###### 인증기관 (CA)
		- 공개키 인증서 발행 및 폐지
		- 사용자에게 자신의 공개키와 상위 기관의 공개키 전달
		- 인증서 발행
		- 공개키, 개인키 쌍 생성 및 전달
- ##### 검증 기관 (VA : Validation Authority)
	- 거래의 유효성 확인
	- 인증서 유효성 확인
- ##### 사용자와 최종 개체
	- 사용자 : 사람이 이용하는 시스템
	- **아래 기능 수행**
		- 비밀키 / 공개키 쌍 생성 가능
		- 공개키 요청 및 획득
		- 전자서명 생성 및 검증
		- 비밀키의 변경, 자신 정보 변경 시 인증서 폐지 요청
- ##### RA (Registration Authority)
	- 사용자 인증서 신청 시 신분과 소속을 확인하는 기능 수행
	- 인증서 요청 서명 후 인증기관에 제출
	- RA가 없을 경우 인증기관이 역할 수행 -> RA는 선택적
- ##### 저장소 (Repository)
	- 인증서를 저장하는 곳
	- 원하는 상대방의 인증서를 검색 가능

## PKI 형태
#### 계층 구조
- 최상위 루트에 CA 존재하고 하위 CA가 계층적으로 존재 -> 트리형태
- 최상위 인증서는 모든 사용자에게 알려져야 함
- 최상위 인증기관의 상호인증은 허용이지만, 인증기관 간의 상호인증은 배제
#### 네트워크 구조
- 상위 인증기관 영향 없이 인증기관 각각이 정책에 따라 독립적으로 존재
- CA간 인증을 위해 상호인증서를 발행
- 모든 상호인증이 허용되면 상호인증 수가 대폭 증가
![[Pasted image 20250417150203.jpg]]
#### 혼합형 구조
- 계층 구조의 장점 + 네트워크 구조의 장점

## PKI의 관리 대상
#### 인증서 (PKC, Public Key Certificate)
- ##### 개요
	- 개인키 + 공개키 -> 해당키가 특정인의 것이라는 **증거**
	- 믿을 수 있는 제3자가 발행
	- 내용 - 소속, 메일 주소, 개인정보, 공개키, 등등 -> CA의 개인키로 전자서명
- ##### 표준 규격
	- ISO에서 정한 **X.509**
	- IP보안, 안전한 소켓 계층 (SSL), 안전한 전자거래(SET) 등 네트워크 보안에서 사용
- ##### 확장
	- 공개키와 연관된 추가 정보 제공
	- ###### 키와 정책 정보 - 키의 용도 및 인증서 정책
		- 기관키 식별자 - 개인키와 대응되는 공개키를 구분하는 수단 제공
		- 사용자키 식별자 - 여러 인증서를 획득한 경우 공개키를 포함하는 인증서 집합을 구분하는 수단 제공
		- 키 사용 - 키 용도 정의
		- 인증서 정책 - 인증서 정책을 인증서 내에 명기
	- ###### 사용자와 발행자 속성 - 인증서 주체나 발행자의 여러 형식의 대체 이름 지원
		- 사용자 대체 이름 - 전자메일주소, DNS이름, IP등과 사용자 결합
		- 발급자 대체 이름 - 다양한 형식의 다른 대체 이름
	- ###### 인증 경로 제약조건 - CA인증서에 포함될 제한사항 제공
		- 기본 제한 - 사용자가 인증기관인지 구분
		- 이름 제한 - 사용자DN이나 대체 이름의 제약
		- 정책 제약 - 정책 제한 확장 적용 가능
#### 인증서 폐지 목록
- ##### 폐지 사유
	- 유효기간이 끝나기 전에 폐지
		- 개인키가 침해당한 경우
		- 사용자를 더이상 인증하지 않을 때
		- CA의 개인키가 침해당한 경우
- ##### CRL (Certificate Revocation List)
	- 인증서 폐지 목록 - 신뢰 당사자가 목록 검색 가능
	- 버전, 서명 알고리즘, 발급 기관 이름, 발급일자, 다음 갱신일 등이 포함
	- 인증서 일련번호로 확인 가능
#### 운영 프로토콜
- ##### 온라인 인증서 상태 검증 포로토콜 (OCSP : Online Certificate Status Protocol)
	- 백그라운드에서 수행
	- CA가 관리하는 CRL을 검사하여 인증서가 유효한지 확인
	- ###### 구성요소
		- OCSP 클라이언트
		- OCSP 서버
		- 인증 서버
![[Pasted image 20250417153410.jpg]]