---
CMDS: DataBase
type:
  - note
tags:
  - "#HTTP"
  - "#HTTP_method"
  - "#API설계"
관련 문서:
  - "[[107.01 HTTP]]"
category: content
---
## API URI 설계
- 좋은 URI 설계 시 중요한 점 : **리소스 식별**
- URI 설계 시 리소스와 행위를 분리할 것

#### 요구사항 분석
1. 회원 정보 관리 API 만들기 -> 아래 기능들이 필요
	- 회원 목록 조회
	- 회원 조회
	- 회원 등록
	- 회원 수정
	- 회원 삭제
2. 리소스 식별
	- 회원 정보 관리 API에서 **리소스**는 **회원**
	- 나머지 *조회, 등록, 수정, 삭제*는 *행위*
	- ##### 리소스
		- 회원
	- ##### 행위
		- 조회
		- 등록
		- 삭제
		- 변경
3. 이를 기반으로 URI 계층 구조 활용
	- 회원 목록 조회
		- /members
	- 회원 조회
		- /members/{id}
	- 회원 등록
		- /members/{id}
	- 회원 수정
		- /members/{id}
	- 회원 삭제
		- /members/{id}
=> 어떻게 구분할까??

## HTTP 메서드
- #### 주요 메서드
	- GET: 리소스 조회
	- POST: 요청 데이터 처리 -> 등록
	- PUT: 리소스 대체, 리소스 없을 시 생성
	- PATCH: 리소스 부분 변경
	- DELETE: 리소스 삭제
- #### 기타 메서드
	- HEAD: GET과 동일하지만 상태 줄과 헤더만 반환
	- OPTIONS: 대상 리소스에 대한 통신 가능 옵션을 설명
	- CONNECT: 대상 리소스로 식별되는 서버에 대한 터널 설정
	- TRACE: 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트 수행

#### GET
- 리소스 조회
- 서버에 전달하고 싶은 데이터를 query parameter를 통해 전달
	- ex) /members?**action=input&id=10**
- body로 전달도 가능하지만, 지원하지 않는 곳이 많음
![[get]]
#### POST
- 요청 데이터 처리
- body를 통해 서버로 요청 데이터 전달
- ##### 기능
	- 새 리소스 생성
		- 서버가 식별하지 않은 새 리소스 생성
	- 요청 데이터 처리
		- 단순 데이터 생성, 변경을 넘어 프로세스를 처리해야 하는 경우
	- 다른 메서드 처리가 애매한 경우
		- 애매하면 POST
![[post]]

#### PUT
- 리소스를 대체
	- 있으면 대체, 없으면 생성
- 클라이언트가 리소스의 위치를 알고 지정해주어야 함
![[put]]

#### PATCH
- 리소스 부분 변경
#### DELETE
- 리소스 삭제

### 속성
- 안전
	- 호출해도 리소스를 변경하지 않는다
- 멱등
	- $f(x) = f(f(x))$
	- 몇번을 호출해도 결과가 같다
	- 자동 복구 메커니즘
- 캐시가능
	- 응답 결과 리소스를 캐시해서 사용해도 되는가?
		- GET, HEAD 정도만 사용

## HTTP 메서드 활용
#### 클라이언트 -> 서버 데이터 전송
- 정적 데이터 조회 -> **GET (경로로 조회 가능)**
	- 이미지, 문서 ...
- 동적 데이터 조회 -> **GET (쿼리 파라미터 사용)**
	- 검색, 게시판의 정렬 필터
- form을 통한 데이터 전송 -> **POST를 사용하여 저장, GET을 사용하여 조회**
	- 회원가입, 상품 주문, 데이터 변경
- API를 통한 데이터 전송-> **POST를 사용하여 저장, GET을 사용하여 조회**
	- 회원가입, 상품 주문, 데이터 변경

#### 회원 관리 시스템
- 회원 목록 조회 (GET)
	- /members
- 회원 조회 (GET)
	- /members/{id}
- 회원 등록 (POST)
	- /members
- 회원 수정 (POST, PUT, PATCH)
	- /members/{id}
- 회원 삭제 (DELETE)
	- /members/{id}