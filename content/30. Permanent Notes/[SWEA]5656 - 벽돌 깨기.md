---
CMDS: CodingTest
creation date: 2025-04-10 14:34
modification date: 2025-04-10 14:40:46
Algorithm Site: SWEA
tags:
  - "#CodingTest"
ê´€ë ¨ ë¬¸ì„œ:
  - "[[103.02 Related Problems]]"
ë¬¸ì œ ë§í¬:
  - https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AWXRQm6qfL0DFAUo
category: coding_test
---

# \[SWEA]5656 - ë²½ëŒ ê¹¨ê¸°

## ë¬¸ì œ ë¶„ì„

### ğŸ’¡ ë¬¸ì œ ê°œìš”
- NxW í¬ê¸°ì˜ ë²½ëŒ ë§µì´ ì£¼ì–´ì§„ë‹¤.
- ê° ë²½ëŒì€ 1 ì´ìƒì˜ ìˆ«ìë¥¼ ê°€ì§€ë©°, ì´ëŠ” ë²½ëŒì´ ê¹¨ì§ˆ ë•Œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í­ë°œ ë²”ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤.
- ê³µì„ Në²ˆ ë–¨ì–´ëœ¨ë ¤ ë‚¨ì€ ë²½ëŒì˜ ìˆ˜ë¥¼ **ìµœì†Œí™”**í•˜ëŠ” ê²ƒì´ ëª©í‘œì´ë‹¤.
- ê³µì€ ìœ„ì—ì„œ ì•„ë˜ë¡œ ë–¨ì–´ì§€ë©°, í•´ë‹¹ ì—´ì—ì„œ ì²˜ìŒ ë§Œë‚˜ëŠ” ë²½ëŒì„ ê¹¨ëœ¨ë¦°ë‹¤.

---

### ğŸ“Œ ì…ë ¥
- `T` : í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜
- `N` : ë–¨ì–´ëœ¨ë¦´ ê³µì˜ ìˆ˜ (ìµœëŒ€ 4)
- `W` : ê°€ë¡œ ê¸¸ì´
- `H` : ì„¸ë¡œ ê¸¸ì´
- ì´í›„ `H`ì¤„ì— ê±¸ì³ ë²½ëŒ ìƒíƒœê°€ ì£¼ì–´ì§ (0ì€ ë¹ˆ ì¹¸)

---

### ğŸ® ê²Œì„ ì§„í–‰ ë°©ì‹
1. ê³µì„ í•˜ë‚˜ ë–¨ì–´ëœ¨ë¦´ ì—´ ì„ íƒ
2. í•´ë‹¹ ì—´ì—ì„œ ì²˜ìŒ ë§Œë‚˜ëŠ” ë²½ëŒì„ ê¸°ì¤€ìœ¼ë¡œ **í­ë°œ**
   - ìˆ«ìë§Œí¼ ìƒí•˜ì¢Œìš°ë¡œ ì—°ì‡„ í­ë°œ
3. í­ë°œì´ ëë‚œ í›„ **ì¤‘ë ¥ ì ìš©**
   - ìœ„ì— ë–  ìˆëŠ” ë²½ëŒë“¤ì´ ì•„ë˜ë¡œ ë–¨ì–´ì§
4. Në²ˆ ë°˜ë³µí•œ í›„ ë‚¨ì€ ë²½ëŒ ìˆ˜ë¥¼ ì²´í¬

## ë¬¸ì œ í•´ê²° ì•„ì´ë””ì–´
dfs +êµ¬í˜„

## ì½”ë“œ
```java
import java.util.*;
import java.io.*;

public class Solution {
	static int N;
	static int W;
	static int H;
	static int[][] map;
	static int[] dx = {1, 0, -1, 0};
	static int[] dy = {0, 1, 0, -1};
	static int ans;
	public static void main(String[] args) throws IOException{
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine());
		
		int T = Integer.parseInt(st.nextToken());
		for(int t=1; t<T+1; t++) {
			st = new StringTokenizer(br.readLine());
			N = Integer.parseInt(st.nextToken());
			W = Integer.parseInt(st.nextToken());
			H = Integer.parseInt(st.nextToken());
			
			map = new int[H][W];
			for(int i=0; i<H; i++) {
				st = new StringTokenizer(br.readLine());
				for(int j=0; j<W; j++) {
					map[i][j] = Integer.parseInt(st.nextToken());
				}
			}
			ans = Integer.MAX_VALUE;
			findX(0, map);
			
			System.out.printf("#%d %d\n", t, ans);
		}
		
	}
	// ì²« ê³µ ë–¨ì–´ëœ¨ë¦´ xì¢Œí‘œ dfsë¡œ êµ¬í˜„
	static void findX(int n, int[][] cmap) {
		//ëª¨ë‘ ë–¨ì–´ëœ¨ë¦¬ë©´
		if(n==N) {
			//ë‚¨ì€ ê°œìˆ˜ ì„¸ê¸°
			ans = Math.min(ans, cntRemain(cmap));
			//ë””ë²„ê·¸ìš©
//			print(cmap);
			return;
		}
		
		for(int i=0; i<W; i++) {
			//ì²˜ìŒ ë²½ëŒê³¼ ë§Œë‚˜ëŠ” yì¢Œí‘œ ì°¾ê¸°
			int y=0;
			while(true) {
				if(y==H-1 || cmap[y][i]!=0)
					break;
				y++;
			}
			//ë§µ ë³µì‚¬
			int[][] ccmap = new int[H][];
			for(int j=0; j<H; j++) {
				ccmap[j] = cmap[j].clone();
			}
			//ì¬ê·€ + í­íƒ„ í„°íŠ¸ë¦¬ê¸°
			findX(n+1, drop(bomb(i, y, ccmap, ccmap[y][i])));
		}
	}
	//ë‚¨ì•„ìˆëŠ” ë²½ëŒ ì„¸ê¸°
	static int cntRemain(int[][] cmap) {
		int cnt=0;
		for(int i=0; i<H; i++) {
			for(int j=0; j<W; j++) {
				if(cmap[i][j]!=0)
					cnt++;
			}
		}
		return cnt;
	}
	//í­íƒ„ í„°íŠ¸ë¦¬ê¸°
	private static int[][] bomb(int x, int y, int[][] cmap, int cnt) {
		//1ì¸ê²½ìš° 0ìœ¼ë¡œ ë°”ê¾¸ê³  ë¦¬í„´
		if(cnt==1) {
			cmap[y][x] = 0;
			return cmap;
		}
		//0ì¸ ê²½ìš° ë¦¬í„´
		if(cnt==0) {
			return cmap;
		}
		//í˜„ì¬ ì¢Œí‘œ 0ìœ¼ë¡œ ë°”ê¾¸ê¸°
		cmap[y][x] = 0;
		//ì‚¬ë°©íƒìƒ‰
		for(int d=0; d<4; d++) {
			//í•œìª½ ë°©í–¥ìœ¼ë¡œ ë»—ì–´ë‚˜ê°€ê¸°
			for(int i=1; i<cnt; i++) {
				int tx = x + dx[d]*i;
				int ty = y + dy[d]*i;
				if(tx<0 || tx>=W || ty<0 || ty>=H)
					break;
				// ì¥ì• ë¬¼ ë§Œë‚˜ë©´ ì¬ê·€
				if(cmap[ty][tx]!=0) {
					bomb(tx, ty, cmap, cmap[ty][tx]);
				}
			}
		}
		
		return cmap;
	}
	//ë²½ëŒ ë–¨êµ¬ê¸°
	static int[][] drop(int[][] cmap) {
		//ë°”ë‹¥ë¶€í„° ë°˜ë³µí•˜ë©° ë¹ˆ ê³µê°„ ì—†ì• ê¸°
		for(int i=H-1; i>=1; i--) {
			for(int j=0; j<W; j++) {
				if(cmap[i][j] == 0) {
					for(int k=i-1; k>=0; k--) {
						if(cmap[k][j]!=0) {
							cmap[i][j] = cmap[k][j];
							cmap[k][j] = 0;
							break;
						}
					}
				}
			}
		}
		return cmap;
	}
	
	static void print(int[][] cmap) {
		for(int i=0; i<H; i++)
			System.out.println(Arrays.toString(cmap[i]));
		System.out.println();
	}
}

```

## ì‹œê°„ ë³µì¡ë„


## ëŠë‚€ì 
- 